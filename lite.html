<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Edulearn | Studies</title>
	<link id="dynamic-favicon" rel="icon"
		href="https://cdn.classlink.com/production/launchpad/resources/images/favicon/favicon-32x32.png">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<style>
		/* --- CORE VARIABLES --- */
		:root {
			--bg-body: #202020;
			--bg-sidebar: #2b2b2b;
			--accent: #ffffff;
			--text-main: #e0e0e0;
			--text-muted: #9e9e9e;
			--card-bg: #333333;
			--glow-text: 0 0 10px rgba(255, 255, 255, 0.2);
			--glow-strong: 0 0 20px rgba(255, 255, 255, 0.5);
			--bg-overlay: 0.0;
			--sidebar-width-collapsed: 54px;
			--sidebar-width-expanded: 200px;
			--nav-item-height: 40px;
		}

		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		body {
			font-family: 'Segoe UI', Roboto, Helvetica, sans-serif;
			background-color: var(--bg-body);
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
			background-attachment: fixed;
			color: var(--text-main);
			overflow: hidden;
			display: flex;
			height: 100vh;
			font-size: 13px;
			transition: background-color 0.3s, color 0.3s;
			position: relative;
		}

		body::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, var(--bg-overlay));
			z-index: 0;
			pointer-events: none;
		}

		#particles-js {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			z-index: 1;
			pointer-events: none;
			opacity: 0.4;
		}

		/* --- SIDEBAR --- */
		.sidebar {
			width: var(--sidebar-width-collapsed);
			height: 100vh;
			background-color: var(--bg-sidebar);
			border-right: 1px solid rgba(255, 255, 255, 0.05);
			display: flex;
			flex-direction: column;
			transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			position: relative;
			z-index: 1000;
			box-shadow: 5px 0 30px rgba(0, 0, 0, 0.5);
			overflow: hidden;
			white-space: nowrap;
			backdrop-filter: blur(10px);
		}

		.sidebar:hover {
			width: var(--sidebar-width-expanded);
		}

		.brand {
			height: 60px;
			display: flex;
			align-items: center;
			padding: 0 16px;
			font-weight: 700;
			font-size: 14px;
			color: var(--text-main);
			border-bottom: 1px solid rgba(255, 255, 255, 0.05);
			margin-bottom: 10px;
			overflow: hidden;
			letter-spacing: 0.5px;
		}

		.brand i {
			min-width: 24px;
			font-size: 18px;
			margin-right: 12px;
			text-align: center;
			color: var(--accent);
		}

		.brand span {
			opacity: 0;
			transition: opacity 0.2s;
		}

		.sidebar:hover .brand span {
			opacity: 1;
			transition-delay: 0.1s;
		}

		.nav-link {
			display: flex;
			align-items: center;
			height: 44px;
			padding: 0 16px;
			color: var(--text-muted);
			text-decoration: none;
			cursor: pointer;
			transition: all 0.2s;
			position: relative;
			font-size: 13px;
			font-weight: 500;
		}

		.nav-link:hover,
		.nav-link.active {
			background-color: rgba(255, 255, 255, 0.08);
			color: var(--text-main);
		}

		.nav-link.active::before {
			content: '';
			position: absolute;
			left: 0;
			top: 0;
			height: 100%;
			width: 3px;
			background-color: var(--accent);
			box-shadow: 0 0 12px var(--accent);
		}

		.nav-link i {
			min-width: 24px;
			font-size: 16px;
			margin-right: 12px;
			text-align: center;
			transition: color 0.2s;
		}

		.nav-link:hover i {
			color: var(--accent);
		}

		.nav-link span {
			opacity: 0;
			transition: opacity 0.1s;
		}

		.sidebar:hover .nav-link span {
			opacity: 1;
			transition-delay: 0.1s;
		}

		.sidebar-footer {
			margin-top: auto;
			width: 100%;
			background: rgba(0, 0, 0, 0.3);
			border-top: 1px solid rgba(255, 255, 255, 0.05);
			display: flex;
			flex-direction: column;
			padding: 15px 0;
		}

		.stat-row {
			display: flex;
			align-items: center;
			justify-content: center;
			width: 100%;
			height: 30px;
			color: var(--text-muted);
			font-size: 11px;
			white-space: nowrap;
			overflow: hidden;
			transition: all 0.2s;
			padding: 0 4px;
		}

		.timer-row {
			border-bottom: 1px solid rgba(255, 255, 255, 0.05);
			margin-bottom: 8px;
			padding-bottom: 8px;
		}

		.sidebar:hover .stat-row {
			justify-content: flex-start;
			padding-left: 18px;
			font-size: 12px;
		}

		.stat-row i {
			min-width: 20px;
			text-align: center;
			font-size: 13px;
		}

		.stat-value {
			margin-left: 6px;
			font-weight: 600;
			color: var(--text-main);
			font-family: monospace;
		}

		.sidebar:hover .stat-row i {
			margin-right: 8px;
		}

		.stat-label {
			display: none;
			margin-left: 6px;
			font-weight: normal;
			color: #777;
		}

		.sidebar:hover .stat-label {
			display: inline;
		}

		/* --- ANIMATIONS & STATUS --- */
		@keyframes fps-glow {
			0% {
				text-shadow: 0 0 5px #00e5ff;
			}

			50% {
				text-shadow: 0 0 15px #00e5ff, 0 0 5px white;
			}

			100% {
				text-shadow: 0 0 5px #00e5ff;
			}
		}

		.fps-high-glow {
			color: #00e5ff !important;
			animation: fps-glow 1.5s infinite alternate;
		}

		.bat-high {
			color: #4caf50;
		}

		.bat-med {
			color: #ff9800;
		}

		.bat-low {
			color: #f44336;
		}

		.bat-charge {
			color: #2196f3;
		}

		/* --- MAIN CONTENT --- */
		.main-content {
			flex: 1;
			position: relative;
			height: 100vh;
			overflow: hidden;
			padding: 0;
			z-index: 10;
		}

		.page {
			display: none;
			width: 100%;
			height: 100%;
			animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
			flex-direction: column;
		}

		.page.active {
			display: flex;
		}

		.home-container {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			height: 100%;
			text-align: center;
			padding: 20px;
		}

		@keyframes fadeIn {
			from {
				opacity: 0;
				transform: scale(0.98);
			}

			to {
				opacity: 1;
				transform: scale(1);
			}
		}

		#hero-title {
			font-size: 72px;
			margin-bottom: 8px;
			text-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
			font-weight: 800;
			letter-spacing: -2px;
			line-height: 1;
			background: linear-gradient(180deg, #fff, #aaa);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
		}

		.hero-subtitle {
			color: var(--text-muted);
			font-size: 18px;
			margin-bottom: 12px;
			letter-spacing: 0.5px;
			font-weight: 400;
		}

		.hero-quote {
			color: #666;
			font-size: 14px;
			font-style: italic;
			margin-bottom: 50px;
			font-family: 'Courier New', monospace;
			min-height: 20px;
			z-index: 2;
			opacity: 0.7;
		}

		.clock-container {
			text-align: center;
			user-select: none;
			margin-bottom: 50px;
		}

		.clock-time {
			font-size: 42px;
			font-weight: 200;
			color: var(--text-main);
			text-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
			letter-spacing: 3px;
			margin-bottom: 5px;
		}

		.clock-date {
			font-size: 14px;
			color: var(--text-muted);
			text-transform: uppercase;
			letter-spacing: 2px;
			font-weight: 600;
		}

		/* --- CLEAN BUTTONS --- */
		.start-btn {
			background-color: var(--accent);
			color: #111;
			padding: 16px 50px;
			border-radius: 100px;
			/* Full pill shape */
			font-size: 15px;
			font-weight: 800;
			text-decoration: none;
			border: none;
			cursor: pointer;
			/* Sophisticated diffuse shadow */
			box-shadow: 0 10px 40px -10px rgba(255, 255, 255, 0.3);
			transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			display: inline-flex;
			align-items: center;
			gap: 12px;
			text-transform: uppercase;
			letter-spacing: 1px;
		}

		.start-btn:hover {
			transform: translateY(-4px) scale(1.05);
			box-shadow: 0 20px 50px -10px rgba(255, 255, 255, 0.5);
		}

		.start-btn:active {
			transform: translateY(-1px) scale(1.02);
		}

		/* --- MODALS & FORMS --- */
		.modal-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.6);
			z-index: 2000;
			display: none;
			justify-content: center;
			align-items: center;
			backdrop-filter: blur(12px);
			opacity: 0;
			transition: opacity 0.3s ease;
		}

		.modal-overlay.active {
			display: flex;
			opacity: 1;
		}

		.modal-box {
			background: rgba(43, 43, 43, 0.95);
			width: 450px;
			border-radius: 16px;
			border: 1px solid rgba(255, 255, 255, 0.08);
			padding: 0;
			box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
			color: var(--text-main);
			display: flex;
			flex-direction: column;
			overflow: hidden;
			transform: scale(0.95);
			transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
		}

		.modal-overlay.active .modal-box {
			transform: scale(1);
		}

		.modal-header {
			padding: 20px 24px;
			border-bottom: 1px solid rgba(255, 255, 255, 0.05);
			display: flex;
			justify-content: space-between;
			font-weight: 700;
			font-size: 15px;
			background: rgba(255, 255, 255, 0.02);
			letter-spacing: 0.5px;
		}

		.close-btn {
			cursor: pointer;
			color: #888;
			transition: 0.2s;
			font-size: 18px;
		}

		.close-btn:hover {
			color: #fff;
			transform: rotate(90deg);
		}

		.modal-body {
			padding: 24px;
			max-height: 400px;
			overflow-y: auto;
		}

		.setting-group {
			margin-bottom: 24px;
			padding-bottom: 24px;
			border-bottom: 1px solid rgba(255, 255, 255, 0.05);
		}

		.setting-group:last-child {
			border-bottom: none;
			padding-bottom: 0;
			margin-bottom: 10px;
		}

		.setting-label {
			display: block;
			font-size: 11px;
			color: var(--text-muted);
			margin-bottom: 8px;
			font-weight: 700;
			text-transform: uppercase;
			letter-spacing: 1px;
		}

		.update-list {
			list-style: none;
			padding-left: 5px;
			line-height: 1.6;
		}

		.update-list li::before {
			content: "â€¢";
			color: var(--accent);
			font-weight: bold;
			display: inline-block;
			width: 1em;
			margin-left: -1em;
		}

		/* Inputs */
		input[type="text"],
		select {
			width: 100%;
			padding: 12px 16px;
			background: rgba(0, 0, 0, 0.3);
			border: 1px solid rgba(255, 255, 255, 0.1);
			color: var(--text-main);
			border-radius: 8px;
			outline: none;
			font-size: 13px;
			transition: all 0.2s;
			font-family: inherit;
		}

		input[type="text"]:focus,
		select:focus {
			border-color: var(--accent);
			background: rgba(0, 0, 0, 0.5);
			box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
		}

		/* --- MODERN BUTTONS (SECONDARY) --- */
		.btn {
			background: rgba(255, 255, 255, 0.06);
			color: var(--text-main);
			border: 1px solid rgba(255, 255, 255, 0.05);
			padding: 12px 20px;
			border-radius: 10px;
			cursor: pointer;
			font-size: 12px;
			font-weight: 600;
			transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
			width: 100%;
			text-align: center;
			margin-bottom: 12px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 8px;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.btn:hover {
			background: rgba(255, 255, 255, 0.12);
			border-color: rgba(255, 255, 255, 0.2);
			transform: translateY(-2px);
		}

		.btn:active {
			transform: translateY(0);
		}

		/* --- MODERN BUTTONS (PRIMARY / WHITE) --- */
		.btn-primary {
			background: var(--accent);
			color: #111;
			border: none;
			/* Soft ambient glow instead of harsh outline */
			box-shadow: 0 4px 15px rgba(255, 255, 255, 0.15);
		}

		.btn-primary:hover {
			background: var(--accent);
			/* Keep white */
			transform: translateY(-2px) scale(1.02);
			box-shadow: 0 8px 25px rgba(255, 255, 255, 0.3);
		}

		.btn-danger {
			background: rgba(211, 47, 47, 0.2);
			color: #ff8a80;
			border-color: rgba(211, 47, 47, 0.3);
		}

		.btn-danger:hover {
			background: rgba(211, 47, 47, 0.3);
			box-shadow: 0 4px 15px rgba(211, 47, 47, 0.2);
		}

		.iframe-wrapper {
			flex: 1;
			width: 100%;
			height: 100%;
			background: #111;
		}

		iframe {
			width: 100%;
			height: 100%;
			border: none;
		}
	</style>
</head>

<body>

	<canvas id="particles-js"></canvas>

	<nav class="sidebar">
		<div class="brand">
			<i class="fa-solid fa-ghost"></i>
			<span>Edulearn Lite</span>
		</div>

		<a class="nav-link active" onclick="switchPage('home', this)">
			<i class="fa-solid fa-house"></i>
			<span>Home</span>
		</a>
		<a class="nav-link" onclick="switchPage('games-page', this)">
			<i class="fa-solid fa-gamepad"></i>
			<span>Games</span>
		</a>
		<a class="nav-link" onclick="switchPage('search-page', this)">
			<i class="fa-solid fa-magnifying-glass"></i>
			<span>Search</span>
		</a>
		<a class="nav-link" onclick="switchPage('tools-page', this)">
			<i class="fa-solid fa-wrench"></i>
			<span>Tools</span>
		</a>

		<a class="nav-link" onclick="openUpdates()">
			<i class="fa-solid fa-newspaper"></i>
			<span>Updates</span>
		</a>

		<a class="nav-link" onclick="switchPage('info-page', this)">
			<i class="fa-solid fa-circle-info"></i>
			<span>Info</span>
		</a>

		<a class="nav-link" onclick="openSettings()">
			<i class="fa-solid fa-gear"></i>
			<span>Settings</span>
		</a>

		<div style="flex-grow: 1;"></div>

		<div class="sidebar-footer">
			<div class="stat-row timer-row">
				<i class="fa-solid fa-stopwatch"></i>
				<span id="game-timer" class="stat-value">00:00</span>
				<span class="stat-label">Session</span>
			</div>
			<div class="stat-row">
				<i class="fa-solid fa-gauge-high"></i>
				<span id="fps-display" class="stat-value">--</span>
				<span class="stat-label">FPS</span>
			</div>
			<div class="stat-row">
				<i class="fa-solid fa-user-group" style="color:#4caf50;"></i>
				<span id="online-count" class="stat-value">0</span>
				<span class="stat-label">online</span>
			</div>
			<div class="stat-row">
				<i id="bat-icon" class="fa-solid fa-battery-full"></i>
				<span id="battery-level" class="stat-value">--%</span>
				<span class="stat-label">Battery</span>
			</div>
		</div>
	</nav>

	<main class="main-content">
		<section id="home" class="page active">
			<div class="home-container">
				<h1 id="hero-title">Edulearn Lite</h1>
				<p class="hero-subtitle">The cleanest unblocked experience.</p>
				<p class="hero-quote" id="random-quote">"coded by the skids, for the skids"</p>
				<div class="clock-container">
					<div class="clock-time" id="clock-time">00:00:00</div>
					<div class="clock-date" id="clock-date">Loading Date...</div>
				</div>
				<button class="start-btn" onclick="startBrowsing()">
					Start Gaming <i class="fa-solid fa-arrow-right"></i>
				</button>
			</div>
		</section>

		<section id="games-page" class="page">
			<div class="iframe-wrapper"><iframe src="./math/gn-math.html"></iframe></div>
		</section>

		<section id="search-page" class="page">
			<div class="iframe-wrapper"><iframe src="./active/index.html"></iframe></div>
		</section>

		<section id="tools-page" class="page">
			<div class="iframe-wrapper"><iframe src="./tools.html"></iframe></div>
		</section>

		<section id="info-page" class="page">
			<div class="iframe-wrapper"><iframe id="info-frame" src=""></iframe></div>
		</section>
	</main>

	<div class="modal-overlay" id="settings-modal">
		<div class="modal-box">
			<div class="modal-header">
				<span><i class="fa-solid fa-sliders" style="margin-right:10px;"></i>Config</span>
				<i class="fa-solid fa-xmark close-btn" onclick="closeSettings()"></i>
			</div>
			<div class="modal-body">
				<div class="setting-group">
					<span class="setting-label">Tab Cloaking</span>
					<input type="text" id="input-title" placeholder="Tab Title" onkeyup="updateTab()" style="margin-bottom: 10px;">
					<input type="text" id="input-icon" placeholder="Tab Icon URL" onkeyup="updateTab()">
				</div>
					<div class="setting-group">
						<span class="setting-label">Theme & Background</span>
						<select id="theme-select" onchange="changeTheme(this.value)" style="margin-bottom: 15px;">
						<option value="midnight">Midnight Grey (Default)</option>
						<option value="ocean">Ocean Blue</option>
						<option value="sunset">Sunset Orange</option>
						<option value="amoled">Pure Black</option>
					</select>
						<span class="setting-label">Background Dimming: <span id="dim-val">0%</span></span>
						<input type="range" id="dim-slider" min="0" max="90" value="0" oninput="updateBgDim(this.value)" style="width:100%">
				</div>
						<button class="btn btn-primary" onclick="openAboutBlank()">
					<i class="fa-solid fa-arrow-up-right-from-square"></i> Open in About:Blank
				</button>
						<button class="btn" onclick="saveSettings()">Save Changes</button>
					</div>
				</div>
			</div>

			<div class="modal-overlay" id="updates-modal">
				<div class="modal-box" style="width: 400px;">
					<div class="modal-header">
						<span><i class="fa-solid fa-bullhorn" style="margin-right:10px; color: var(--accent);"></i>Recent Updates</span>
						<i class="fa-solid fa-xmark close-btn" onclick="closeUpdates()"></i>
					</div>
					<div class="modal-body">
						<div class="setting-group">
							<span class="setting-label">Feb 4, 2026 - v2.2</span>
							<ul class="update-list">
								<li>Cleaned up UI Buttons (No more skid vibes)</li>
								<li>Added smooth hover animations</li>
								<li>Improved modal transparency</li>
							</ul>
						</div>
						<div class="setting-group">
							<span class="setting-label">Feb 2, 2026</span>
							<p class="info-text">Initial release of the Lite framework with tab cloaking and
								customizable themes.</p>
						</div>
						<button class="btn btn-primary" onclick="closeUpdates()">Got it!</button>
					</div>
				</div>
			</div>

			<script>
				// --- 1. STATE & SETTINGS ---
    const defaultSettings = {
        title: 'Edulearn | Studies',
        icon: 'https://cdn.classlink.com/production/launchpad/resources/images/favicon/favicon-32x32.png',
        theme: 'midnight',
        particles: 20,
        bgImage: null,
        bgPreset: 'none',
        bgDim: 0
    };
    let userSettings = JSON.parse(localStorage.getItem('el_settings')) || defaultSettings;

    // --- 2. PARTICLES SYSTEM ---
    const canvas = document.getElementById('particles-js');
    const ctx = canvas.getContext('2d');
    let particlesArray = [];
    let isAnimating = false;

    function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    class Particle {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.size = Math.random() * 2 + 0.5;
            this.speedX = Math.random() * 0.4 - 0.2;
            this.speedY = Math.random() * 0.4 - 0.2;
            this.opacity = Math.random() * 0.5 + 0.1;
        }
        update() {
            this.x += this.speedX; this.y += this.speedY;
            if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
            if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
        }
        draw() {
            ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
            ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
        }
    }

    function initParticles() {
        particlesArray = [];
        let count = parseInt(userSettings.particles);
        for (let i = 0; i < count; i++) particlesArray.push(new Particle());
        if (count > 0 && !isAnimating) { isAnimating = true; animateParticles(); }
    }

    function animateParticles() {
        if (!isAnimating) return;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particlesArray.forEach(p => { p.update(); p.draw(); });
        requestAnimationFrame(animateParticles);
    }
    initParticles();

    // --- 3. MODALS & AUTO-POPUP ---
    function openSettings() { document.getElementById('settings-modal').classList.add('active'); }
    function closeSettings() { document.getElementById('settings-modal').classList.remove('active'); }
    function openUpdates() { document.getElementById('updates-modal').classList.add('active'); }
    function closeUpdates() { document.getElementById('updates-modal').classList.remove('active'); }

    window.onload = () => {
        applySettings();
        if (!sessionStorage.getItem('updates_shown')) {
            setTimeout(openUpdates, 1000);
            sessionStorage.setItem('updates_shown', 'true');
        }
    };

    // --- 4. THEME & SETTINGS LOGIC ---
    function applySettings() {
        document.title = userSettings.title;
        document.getElementById('dynamic-favicon').href = userSettings.icon;
        document.getElementById('input-title').value = userSettings.title;
        document.getElementById('input-icon').value = userSettings.icon;
        document.getElementById('theme-select').value = userSettings.theme;
        document.getElementById('dim-slider').value = userSettings.bgDim;
        updateTheme(userSettings.theme);
        updateBgDim(userSettings.bgDim);
    }

    function updateTheme(themeName) {
        const root = document.documentElement.style;
        if (themeName === 'ocean') {
            root.setProperty('--bg-body', '#0f172a'); root.setProperty('--bg-sidebar', '#1e293b'); root.setProperty('--accent', '#38bdf8');
        } else if (themeName === 'sunset') {
            root.setProperty('--bg-body', '#2a0a0a'); root.setProperty('--bg-sidebar', '#3f1010'); root.setProperty('--accent', '#f97316');
        } else if (themeName === 'amoled') {
            root.setProperty('--bg-body', '#000000'); root.setProperty('--bg-sidebar', '#000000'); root.setProperty('--accent', '#ffffff');
        } else {
            root.setProperty('--bg-body', '#202020'); root.setProperty('--bg-sidebar', '#2b2b2b'); root.setProperty('--accent', '#ffffff');
        }
    }

    function saveSettings() { localStorage.setItem('el_settings', JSON.stringify(userSettings)); closeSettings(); }
    function changeTheme(val) { userSettings.theme = val; updateTheme(val); }
    function updateBgDim(val) { userSettings.bgDim = val; document.getElementById('dim-val').innerText = val + "%"; document.documentElement.style.setProperty('--bg-overlay', val / 100); }
    function updateTab() {
        userSettings.title = document.getElementById('input-title').value || "Edulearn | Studies";
        userSettings.icon = document.getElementById('input-icon').value || "https://cdn.classlink.com/production/launchpad/resources/images/favicon/favicon-32x32.png";
        document.title = userSettings.title;
        document.getElementById('dynamic-favicon').href = userSettings.icon;
    }

    // --- 5. NAVIGATION, CLOCK & FULL QUOTE LIST ---
    function updateClock() {
        const now = new Date();
        document.getElementById('clock-time').innerText = now.toLocaleTimeString();
        document.getElementById('clock-date').innerText = now.toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
    }
    setInterval(updateClock, 1000); updateClock();

    function displayRandomQuote() {
        const quotes = [
            "coded by the skids, for the skids", "teachers hate ts", "unblocked and unlocked", "running on pure caffeine", "if you're reading this, do your homework",
            "no admins allowed", "security through obscurity", "ctrl + w to win instantly", "made with <3 and spaghetti code", "Set this up in alt tab to quickly escape",
            "L AH", "decode this: aHR0cHM6Ly9hbmRyZXdodWlzLmdheQ==", "last updated: Feb 3, 2026", "need more blahaj", "typing this while going to class lol",
            "mrbeast i neeeeed some money", "please speeed i neeeeed this - EMDC", "How are you playing Hollow Knight at school bro?",
            "I'm gonna steal your os, remove the stupid stuff except the browser, and make it my own hahaha", "lmfao skids who steal my source code, riddle me this: It's public on github.",
            "originally just a webview kajig", "frogiesarcade vibes", "L", "And I.. I will get my revenge - Conall Sadako", "This is where the fun begins - Obi Wan Kenobi",
            "AH is depressed ahh vibes", "vibecoded type shi", "vibecoded, but it WORKS!", "skid approved!!", "It's VERSELL not VERSUL", "Monkey find computer. Monkey type.",
            "blahhahahahhahhahahhahhahaah stupid messages", "I....am not Steve.", "por-tugal - phew", "buh bye", "hihihihihihihihi", "goguardian is trash", "lightsped sytems",
            "go get the milk - therealfour, milk lover 67", "Pull up! Terrain Ahead - Flight #67 autopilot before crash", "Twinkle toes",
            "No matter how much it feels like it, I'm not gay I swear! - A random", "I need more blahajjjjjj - vk6", "THIS IS MY ADDRESSS WHY U LEAKIN IT!!!??!?! - .vikc",
            "yo the old games site are ancient compared to ts - guy", "Wait.. I can have MULTIPLE TABS?!? HOLY SHI*", "If you use this and I know you're a skid, screw you lmfao",
            "generate an image of fartrizzeggplant1 hahahahaa", "if you use this, you're not gay", "https://bebby.w3spaces.com for more!", "you're dumb", "I'm depressed typing this",
            "dont cry.. just.. cry", "L r/k12sysadmins", "gaming freedom!", "yall ready to play TS ALL DAY!?", "The ogs know of classroom.lol", "tyrone's stupid games",
            "L linewize", "I have securly for breakfast, gogaurdian for lunch, and lightsped for dinner - a random sk1d", "if you read this, consider yourself lucky.",
            "Albie plsssss bring the custom dmn back it was so PEAK", "educational.sbs", "dont mind me..I'm just here", "I'm jobless fr", "Jobless for using AI? Really?",
            "if you called me a skid, doing it fucking again.", "Nig-eria.. woah, that was close", "not racist fr", "if you go on 'shinano r3*', you're a degenerate ",
            "THIS SITE IS NOT FOR DEGENERATES. GO AWAY!!", "eat my pick- this pickle", "if i catch you tryna bypass to go to the hub consider yourself unlucky.",
            "I should ring Alvin's gong - wise guy", "If you want to humiliate your enemies, do it in a way that doesn't waste your own time. Use AI - Sun Zu",
            "skibdiidiididiididiidiidd", "albie was here", "L HAZEL, REISIMIKA, SOPQL, and EMMYWEMMY. - Absolute cinema guy", "AH you suck at batminton - anonymous",
            "Go on.. touch app scripts. - dedede the third", "L NONDEGENERATES I USE SKIDBOOT - AH (bro can guess who)", "UNBLOCKED GAMES IN DA BIG 26!",
            "NO G00NING (And I specifically am talking about a CERTAIN SOMEONE)", "Pathetic - AH", "If you made it this far, join the discord!", "You know I know if you hop on the hUb, do you?",
            "Deepfakes of me lmfao", "L krish", "krishisaddictedtobrawlstars.raspberryip.com", "Hi, mr J20.", "the type of shi i see on tiktok:", "I'm sorry, what-", "last message typed so far"
        ];
        document.getElementById('random-quote').innerText = '"' + quotes[Math.floor(Math.random() * quotes.length)] + '"';
    }
    displayRandomQuote();

    function switchPage(pageId, navElement) {
        document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        if (navElement) {
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
            navElement.classList.add('active');
        }
        if (pageId === 'home') displayRandomQuote();
        if (pageId === 'info-page' && !document.getElementById('info-frame').src) document.getElementById('info-frame').src = atob('Li9pbmZvLmh0bWw=');
    }

    function startBrowsing() { switchPage('games-page'); document.querySelectorAll('.nav-link')[1].classList.add('active'); }

    // --- 6. SYSTEM STATS (FPS, TIMER, BATTERY, ONLINE) ---
    let startTime = Date.now();
    setInterval(() => {
        let diff = Math.floor((Date.now() - startTime) / 1000);
        let m = Math.floor(diff / 60), s = diff % 60;
        document.getElementById('game-timer').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
    }, 1000);

    let frameCount = 0, lastTime = performance.now();
    function updateFPS() {
        frameCount++; let now = performance.now();
        if (now - lastTime >= 1000) {
            let fps = frameCount; document.getElementById('fps-display').innerText = fps;
            fps >= 55 ? document.getElementById('fps-display').classList.add('fps-high-glow') : document.getElementById('fps-display').classList.remove('fps-high-glow');
            frameCount = 0; lastTime = now;
        }
        requestAnimationFrame(updateFPS);
    }
    updateFPS();

    function updateBatteryUI(battery) {
        const level = Math.round(battery.level * 100);
        const icon = document.getElementById('bat-icon');
        document.getElementById('battery-level').innerText = level + '%';
        icon.className = "fa-solid " + (battery.charging ? "fa-bolt bat-charge" : (level > 50 ? "fa-battery-full bat-high" : (level > 20 ? "fa-battery-half bat-med" : "fa-battery-quarter bat-low")));
    }
    if (navigator.getBattery) navigator.getBattery().then(b => { updateBatteryUI(b); b.onlevelchange = () => updateBatteryUI(b); b.onchargingchange = () => updateBatteryUI(b); });

    const onlineId = crypto.randomUUID();
    async function updateOnline() {
        try { const r = await fetch(`/api/online?id=${onlineId}`, { cache: "no-store" }); if (r.ok) document.getElementById("online-count").textContent = await r.text(); } catch { }
    }
    setInterval(updateOnline, 15000); updateOnline();

    function openAboutBlank() {
        let win = window.open();
        let iframe = win.document.createElement('iframe');
        iframe.style = "position:fixed;top:0;left:0;width:100%;height:100%;border:none;";
        iframe.src = window.location.href; win.document.body.appendChild(iframe);
    }
			</script>
</body>

</html>